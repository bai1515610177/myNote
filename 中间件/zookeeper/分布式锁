1. 先创建一个临时有序的节点znode

2. 客户端扫描获取的所有节点，如果发现自己创建的节点顺序最小，则相当于获取了锁，使用结束后，将节点删除 。

3. 如果 发现自己创建的节点不是最小，则表示没有获取到锁，客户端找到比自己小的节点并加入到watcher中进行监听，如果监听到比自己小的被删除则会被通知到。此时再次判断自己创建的节点是不是最小的，如果不是则继续监听。